# 05 â€” Data Dictionary (Phase 1)

## 0) Purpose
This document defines the **authoritative data fields** for Phase 1.

It specifies:
- Entities
- Fields
- Required vs optional
- Ownership and source of data

It is the source of truth for:
- Prisma schema
- DTO validation
- Form requirements

---

## 1) Conventions

### 1.1 Required flag
- **Required**: must be present at submit time
- **Optional**: may be null or omitted

### 1.2 Field source
- **USER**: provided by parent/admin
- **SYSTEM**: generated by system
- **DERIVED**: computed or copied internally

---

## 2) User

### user
| Field | Type | Required | Source | Notes |
|---|---|---|---|---|
| id | UUID | Yes | SYSTEM | Primary key |
| email | string | Yes | USER | Unique |
| password_hash | string | Yes | SYSTEM | Hashed |
| role | enum | Yes | SYSTEM | ADMIN / PARENT |
| created_at | datetime | Yes | SYSTEM | |
| updated_at | datetime | Yes | SYSTEM | |

---

## 3) Registration Period

### registration_period
| Field | Type | Required | Source | Notes |
|---|---|---|---|---|
| id | UUID | Yes | SYSTEM | |
| name | string | Yes | ADMIN | |
| start_at | datetime | Yes | ADMIN | |
| end_at | datetime | Yes | ADMIN | |
| status | enum | Yes | SYSTEM | OPEN / CLOSED |
| created_at | datetime | Yes | SYSTEM | |
| updated_at | datetime | Yes | SYSTEM | |

---

## 4) Application (Core)

### application
| Field | Type | Required | Source | Notes |
|---|---|---|---|---|
| id | UUID | Yes | SYSTEM | |
| application_no | string | Yes | SYSTEM | Human-readable |
| applicant_email | string | Yes | USER | Used before account creation |
| parent_user_id | UUID | Optional | SYSTEM | Linked after invitation |
| registration_period_id | UUID | Yes | SYSTEM | |
| status | enum | Yes | SYSTEM | ApplicationStatus |
| decision_reason | string | Optional | ADMIN | Required on reject |
| submitted_at | datetime | Optional | SYSTEM | |
| created_at | datetime | Yes | SYSTEM | |
| updated_at | datetime | Yes | SYSTEM | |

---

## 5) Pre-Registration

### application_pre_registration
| Field | Type | Required | Source | Notes |
|---|---|---|---|---|
| application_id | UUID | Yes | SYSTEM | 1:1 |
| applicant_name | string | Yes | USER | |
| applicant_relationship | string | Yes | USER | |
| reason_living_abroad | string | Yes | USER | |
| reason_to_apply | string | Yes | USER | |
| assignment_city | string | Yes | USER | |
| assignment_country | string | Yes | USER | |
| domicile_start_date | date | Yes | USER | |
| domicile_end_date | date | Yes | USER | |
| permit_expiry_date | date | Yes | USER | |
| program_choice | string | Yes | USER | |
| education_level | string | Yes | USER | |
| grade_applied | string | Yes | USER | |
| student_name | string | Yes | USER | |
| student_gender | enum | Yes | USER | |
| student_birth_date | date | Yes | USER | |
| last_education_location | string | Yes | USER | |
| nisn | string | Optional | USER | |

---

## 6) Full Registration

### registration_submission
| Field | Type | Required | Source | Notes |
|---|---|---|---|---|
| application_id | UUID | Yes | SYSTEM | |
| student_full_name | string | Yes | USER | |
| birth_place | string | Yes | USER | |
| birth_date | date | Yes | USER | |
| religion | string | Yes | USER | |
| nisn | string | Yes | USER | |
| nik | string | Yes | USER | |
| last_school_name | string | Yes | USER | |
| last_school_year | string | Yes | USER | |
| current_school_name | string | Yes | USER | |
| child_order | number | Yes | USER | |
| siblings_count | number | Yes | USER | |
| height_cm | number | Yes | USER | |
| weight_kg | number | Yes | USER | |
| address_indonesia | string | Yes | USER | |
| address_domicile | string | Yes | USER | |
| phone_home | string | Yes | USER | |
| arrival_date | date | Yes | USER | |
| parent_permit_expiry | date | Yes | USER | |
| created_at | datetime | Yes | SYSTEM | |
| updated_at | datetime | Yes | SYSTEM | |

---

## 7) Contacts (Parents / Guardians)

### application_contact
| Field | Type | Required | Source | Notes |
|---|---|---|---|---|
| id | UUID | Yes | SYSTEM | |
| application_id | UUID | Yes | SYSTEM | |
| relationship | enum | Yes | USER | Father / Mother / Guardian |
| full_name | string | Yes | USER | |
| birth_place | string | Yes | USER | |
| birth_date | date | Yes | USER | |
| nik | string | Yes | USER | |
| education_level | string | Yes | USER | |
| occupation | string | Yes | USER | |
| income_range | string | Yes | USER | |
| phone | string | Yes | USER | |
| email | string | Yes | USER | |

---

## 8) Documents

### document
| Field | Type | Required | Source | Notes |
|---|---|---|---|---|
| id | UUID | Yes | SYSTEM | |
| application_id | UUID | Yes | SYSTEM | |
| document_type | enum | Yes | SYSTEM | Fixed enum |
| file_id | UUID | Yes | SYSTEM | |
| review_status | enum | Yes | SYSTEM | PENDING / APPROVED / REJECTED |
| review_note | string | Optional | ADMIN | |
| created_at | datetime | Yes | SYSTEM | |

---

## 9) File Metadata

### file
| Field | Type | Required | Source | Notes |
|---|---|---|---|---|
| id | UUID | Yes | SYSTEM | |
| file_name | string | Yes | USER | |
| mime_type | string | Yes | SYSTEM | |
| size_bytes | number | Yes | SYSTEM | |
| storage_key | string | Yes | SYSTEM | |
| uploaded_at | datetime | Yes | SYSTEM | |

---

## 10) Student

### student
| Field | Type | Required | Source | Notes |
|---|---|---|---|---|
| id | UUID | Yes | SYSTEM | |
| application_id | UUID | Yes | SYSTEM | 1:1 |
| status | enum | Yes | SYSTEM | ACTIVE |
| created_at | datetime | Yes | SYSTEM | |

---

## 11) Stability Rule
This data dictionary is **frozen for Phase 1**.

Any change to:
- required flags
- field meaning
- entity ownership

must be reflected here **before** code changes.

---

### Status
Frozen for Phase 1
